<?php
// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
$mango_varieties = [
    [
        'id' => 1,
        'name' => '‡∏ô‡πâ‡∏≥‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ',
        'scientific_name' => 'Mangifera indica',
        'local_name' => '‡∏ô‡πâ‡∏≥‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ',
        'morphological_characteristics' => [
            'stem' => '‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏á',
            'fruit' => '‡∏ú‡∏•‡∏ó‡∏£‡∏á‡∏Å‡∏•‡∏° ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏•‡∏≤‡∏á',
            'leaf' => '‡πÉ‡∏ö‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏°',
        ],
        'propagation' => '‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ô‡∏Å‡∏¥‡πà‡∏á ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏•‡πá‡∏î',
        'soil_characteristics' => '‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ',
        'planting_duration' => '‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏û‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 4-6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô',
        'harvest_season' => '‡∏ä‡πà‡∏ß‡∏á‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô-‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°',
        'processing_methods' => [
            'preserved' => '‡∏ô‡∏¥‡∏¢‡∏°‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏î‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡πÅ‡∏ä‡πà‡∏≠‡∏¥‡πà‡∏°',
            'fresh' => '‡∏ô‡∏¥‡∏¢‡∏°‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏™‡∏î',
        ],
        'mango_category' => '‡∏´‡∏°‡∏ß‡∏î‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå',
        'description' => '‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏á ‡∏ú‡∏•‡∏ó‡∏£‡∏á‡∏Å‡∏•‡∏° ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏•‡∏≤‡∏á ‡πÉ‡∏ö‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏°',
        'images' => [
            'fruit' => 'https://image.makewebeasy.net/makeweb/m_1920x0/vYbyNLJY1/Fruit/bcfad4f70f02b816bea05818b0b40fe0.jpg',
            'tree' => 'https://www.palangkaset.com/wp-content/uploads/2018/05/4.%E0%B8%81%E0%B8%A3%E0%B8%B0%E0%B8%95%E0%B8%B8%E0%B9%89%E0%B8%99%E0%B9%83%E0%B8%AB%E0%B9%89%E0%B8%A3%E0%B8%B2%E0%B8%81%E0%B8%94%E0%B8%B9%E0%B8%94%E0%B8%8B%E0%B8%B6%E0%B8%A1%E0%B8%AA%E0%B8%B2%E0%B8%A3%E0%B8%AD%E0%B8%B2%E0%B8%AB%E0%B8%B2%E0%B8%A3%E0%B8%A1%E0%B8%B2%E0%B9%83%E0%B8%8A%E0%B9%89%E0%B9%80%E0%B8%AD%E0%B8%87%E0%B8%88%E0%B8%B2%E0%B8%81%E0%B8%94%E0%B8%B4%E0%B8%99.jpg',
            'leaf' => 'https://inwfile.com/s-cl/aawzer.jpg',
            'flower' => 'https://inwfile.com/s-ds/n49cdc.jpg',
            'branch' => 'https://www.technologychaoban.com/wp-content/uploads/2019/01/7-13.jpg'
        ]
    ],
    [
        'id' => 2,
        'name' => '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏™‡∏ß‡∏¢',
        'scientific_name' => 'Mangifera indica',
        'local_name' => '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏™‡∏ß‡∏¢',
        'morphological_characteristics' => [
            'stem' => '‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏π‡∏á‡∏ï‡∏£‡∏á',
            'fruit' => '‡∏ú‡∏•‡∏ó‡∏£‡∏á‡∏Å‡∏£‡∏∞‡∏ö‡∏≠‡∏Å ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡∏°‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Å',
            'leaf' => '‡πÉ‡∏ö‡∏Å‡∏ß‡πâ‡∏≤‡∏á ‡∏£‡∏π‡∏õ‡∏£‡∏µ ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏°',
        ],
        'propagation' => '‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏•‡πá‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ô‡∏Å‡∏¥‡πà‡∏á',
        'soil_characteristics' => '‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏ã‡∏∏‡∏¢ ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ',
        'planting_duration' => '‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏û‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 5-7 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô',
        'harvest_season' => '‡∏ä‡πà‡∏ß‡∏á‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°-‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô',
        'processing_methods' => [
            'preserved' => '‡∏ô‡∏¥‡∏¢‡∏°‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏î‡∏≠‡∏á ‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡πÅ‡∏ä‡πà‡∏≠‡∏¥‡πà‡∏°',
            'fresh' => '‡∏ô‡∏¥‡∏¢‡∏°‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏™‡∏î',
        ],
        'mango_category' => '‡∏´‡∏°‡∏ß‡∏î‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå',
        'description' => '‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á ‡∏ú‡∏•‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡∏°‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Å ‡πÉ‡∏ö‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏°',
        'images' => [
            'fruit' => 'https://onniorganicfarm.com/wp-content/uploads/2021/03/IMG_0343.jpg',
            'tree' => 'https://www.technologychaoban.com/wp-content/uploads/2017/04/089.jpg',
            'leaf' => 'https://www.kasettambon.com/wp-content/uploads/2021/03/%E0%B9%83%E0%B8%9A%E0%B8%A1%E0%B8%B0%E0%B8%A1%E0%B9%88%E0%B8%A7%E0%B8%87-600x398.jpg',
            'flower' => 'https://www.parichfertilizer.com/wp-content/uploads/mango.jpg',
            'branch' => 'https://www.technologychaoban.com/wp-content/uploads/2019/01/7-13.jpg'
        ]
    ]
    
];

// ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ id ‡∏à‡∏≤‡∏Å URL ‡∏ú‡πà‡∏≤‡∏ô $_GET
$mango_id = isset($_GET['id']) ? $_GET['id'] : null;
$selected_mango = null;

if ($mango_id !== null) {
    foreach ($mango_varieties as $mango) {
        if ($mango['id'] == $mango_id) {
            $selected_mango = $mango;
            break;
        }
    }
}

if ($selected_mango === null) {
    die("‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç");
}
?>

<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: "Kanit", sans-serif;
        }
    </style>
</head>

<body>
    <div class="container mt-4">
        <h2>‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á</h2>
        <form action="#" method="POST" enctype="multipart/form-data">
            <div class="row">
                <!-- ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ã‡πâ‡∏≤‡∏¢ -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå</label>
                        <input type="text" class="form-control" name="mango_name" value="<?php echo $selected_mango['name']; ?>" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</label>
                        <input type="text" class="form-control" name="scientific_name" value="<?php echo $selected_mango['scientific_name']; ?>" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô</label>
                        <input type="text" class="form-control" name="local_name" value="<?php echo $selected_mango['local_name']; ?>" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏™‡∏±‡∏ì‡∏ê‡∏≤‡∏ô‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</label>
                        <input type="text" class="form-control" name="morphology_stem" value="<?php echo $selected_mango['morphological_characteristics']['stem']; ?>" required>
                        <input type="text" class="form-control mt-2" name="morphology_fruit" value="<?php echo $selected_mango['morphological_characteristics']['fruit']; ?>" required>
                        <input type="text" class="form-control mt-2" name="morphology_leaf" value="<?php echo $selected_mango['morphological_characteristics']['leaf']; ?>" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏î‡∏¥‡∏ô</label>
                        <input type="text" class="form-control" name="soil_characteristics" value="<?php echo $selected_mango['soil_characteristics']; ?>" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏û‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å</label>
                        <input type="text" class="form-control" name="planting_period" value="<?php echo $selected_mango['planting_duration']; ?>" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏ä‡πà‡∏ß‡∏á‡∏§‡∏î‡∏π‡∏Å‡∏≤‡∏•‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß</label>
                        <input type="text" class="form-control" name="harvest_season" value="<?php echo $selected_mango['harvest_season']; ?>" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏£‡∏£‡∏π‡∏õ</label><br>
                        <?php
                        $processing_methods = ['‡∏Å‡∏ß‡∏ô', '‡∏î‡∏≠‡∏á', '‡πÅ‡∏ä‡πà‡∏≠‡∏¥‡πà‡∏°', '‡∏ô‡∏¥‡∏¢‡∏°‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏™‡∏î'];
                        foreach ($processing_methods as $method) {
                            $checked = (in_array($method, array_values($selected_mango['processing_methods'])) || strpos($selected_mango['processing_methods']['preserved'], $method) !== false || $selected_mango['processing_methods']['fresh'] == $method) ? 'checked' : '';
                            echo '<div class="form-check">';
                            echo '<input class="form-check-input" type="checkbox" name="processing_methods[]" value="' . $method . '" ' . $checked . '>';
                            echo '<label class="form-check-label">' . $method . '</label>';
                            echo '</div>';
                        }
                        ?>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏´‡∏°‡∏ß‡∏î‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á</label>
                        <select class="form-select" name="mango_category" required>
                            <?php
                            $categories = ['‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå', '‡πÄ‡∏ä‡∏¥‡∏á‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå', '‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏ô'];
                            foreach ($categories as $category) {
                                $selected = (strpos($selected_mango['mango_category'], $category) !== false) ? 'selected' : '';
                                echo '<option value="' . $category . '" ' . $selected . '>' . $category . '</option>';
                            }
                            ?>
                        </select>
                    </div>
                </div>

                <!-- ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏Ç‡∏ß‡∏≤ -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label">‡∏£‡∏π‡∏õ‡∏ú‡∏•‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á</label><br>
                        <img src="<?php echo $selected_mango['images']['fruit']; ?>" width="100">
                        <input type="file" class="form-control mt-2" name="image_fruit">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏£‡∏π‡∏õ‡∏ï‡πâ‡∏ô‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á</label><br>
                        <img src="<?php echo $selected_mango['images']['tree']; ?>" width="100">
                        <input type="file" class="form-control mt-2" name="image_tree">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏£‡∏π‡∏õ‡πÉ‡∏ö‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á</label><br>
                        <img src="<?php echo $selected_mango['images']['leaf']; ?>" width="100">
                        <input type="file" class="form-control mt-2" name="image_leaf">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏£‡∏π‡∏õ‡∏î‡∏≠‡∏Å‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á</label><br>
                        <img src="<?php echo $selected_mango['images']['flower']; ?>" width="100">
                        <input type="file" class="form-control mt-2" name="image_flower">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏£‡∏π‡∏õ‡∏Å‡∏¥‡πà‡∏á‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á</label><br>
                        <img src="<?php echo $selected_mango['images']['branch']; ?>" width="100">
                        <input type="file" class="form-control mt-2" name="image_branch">
                    </div>
                </div>
            </div>
            <div class="mt-3">
                <button type="submit" class="btn btn-success">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                <a href="manage_mango.php" class="btn btn-secondary">üîô ‡∏Å‡∏•‡∏±‡∏ö</a>
            </div>
        </form>
    </div>
</body>

</html>